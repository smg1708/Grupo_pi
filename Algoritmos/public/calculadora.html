<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vagas IQ | Simulador</title>
    <link rel="icon" href="assets/VagasIQ.svg" />

    <link rel="stylesheet" href="styles/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Unbounded:wght@200..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="header">
      <div class="div_container-navbar">
        <div class="div_logo">
          <h1><a href="index.html">VagasIQ</a></h1>
        </div>
        <div class="navbar">
          <a href="index.html#sobreNos">SOBRE N√ìS</a>
          <a href="index.html#solucao">SOLU√á√ïES</a>
          <a href="index.html#contato">CONTATO</a>
          <a href="calculadora.html">SIMULADOR</a>
          <a href="login.html" style="color: #ffc714"><u>LOGIN</u></a>
        </div>
      </div>
    </div>

    <div class="div_container-calculadora">
      <div class="p1-container" style="display: block" id="calculadora_part1">
        <div class="titulo">
          <h1>Simule Aqui Seus Resultados!</h1>
          <h3>
            Utilize a calculadora para entender como a nossa solu√ß√£o <br />
            pode ajudar a sua empresa!
          </h3>
        </div>

        <div class="p1-calculadora-interface">
          <div class="div_forms">
            <div class="campo">
              <p>Informe o faturamento anual</p>
              <input type="number" id="input_anual" class="input_cad-log" />
            </div>

            <div class="campo">
              <p>Informe o gasto com sinistros anual</p>
              <input type="number" id="input_sinistros" class="input_cad-log" />
            </div>

            <div class="campo">
              <p>
                Quando voc√™ precisa avaliar os riscos, os dados s√£o confi√°veis?
              </p>
              <select id="select_dados" class="input_cad-log">
                <option value="#" id="#">Selecione uma op√ß√£o</option>
                <option value="nunca">Nunca</option>
                <option value="raramente">Raramente</option>
                <option value="as vezes">√Äs vezes</option>
                <option value="quase sempre">Quase sempre</option>
                <option value="sempre">Sempre</option>
              </select>
            </div>

            <button class="button-forms" onclick="calcular()">Calcular</button>
          </div>
        </div>
      </div>

      <div class="p2-container" style="display: none" id="calculadora_part2">
        <div class="titulo">
          <h1>Aqui Est√£o Seus Resultados!</h1>
        </div>

        <div class="p2-calculadora-interface">
          <div class="div_forms">
            <span id="span_mensagem_dados"></span>
            <button class="button-forms" onclick="voltar()">Voltar</button>
          </div>
        </div>
      </div>
    </div>

    <div class="div_container-footer">
      <div class="div_conteudo-footer">
        <div class="div_titulo-footer">
          <h1>VagasIQ</h1>
        </div>

        <div class="traco"></div>

        <span class="div_descricao-footer">
          Explore todo o potencial do seu neg√≥cio com o poder da tomada de
          decis√£o estrat√©gica <br />
          baseada em informa√ß√µes relevantes!
        </span>
      </div>
    </div>
  </body>
</html>

<script>

  function calcular() {
    var faturamento = Number(input_anual.value);
    var sinistro = Number(input_sinistros.value);
    var qualidadeDados = select_dados.value;
    var taxaSinistralidade = sinistro / faturamento * 100;
    var sinistralidadeMedia = 59.4;
    var taxaPerdaMax = 25;
    var taxaPerdaMin = 15;
    var msg = "";
    
    if (qualidadeDados == "nunca" || qualidadeDados == "raramente" || qualidadeDados == "as vezes") {
      var prejuizoMax = faturamento * (taxaPerdaMax / 100);
      span_mensagem_dados.innerHTML = `A qualidade dos dados de uma seguradora s√£o de extrema import√¢ncia para an√°lise de padr√µes<br> e mapeamento de perfis.<br>Informa√ß√µes imprecisas e pouco confi√°veis podem resultar em:<br><br>
      üí∏ <b>Perda</b> de <b>${taxaPerdaMin} a ${taxaPerdaMax}%</b> do faturamento. (Fonte: MIT)<br>
      üí∞ Ou seja, um <b>preju√≠zo</b> que pode chegar a <b>R$${prejuizoMax.toFixed(2)}</b>!<br><br>
      <b>Diferen√ßa de Faturamento</b>
      <canvas id="chart-prejuizo"></canvas>
      <br>
      Com a nossa solu√ß√£o, a sua empresa ganha mais uma ferramenta para gerar <i>insights</i> valiosos<br> e melhorar a efici√™ncia do mapeamento de perfil e an√°lise de riscos, aprimorando a cria√ß√£o<br> das ap√≥lices e otimizando os seus lucros!<br> Se estiver interessado, <a href="index.html#contato"><b>clique aqui</b></a>.`;

      const chart_prejuizo = document.getElementById("chart-prejuizo");

      new Chart(chart_prejuizo, {
        type: 'bar',
        data: {
          labels: ['Faturamento'],
          datasets: [{
            label: 'Sem Preju√≠zo',
            data: [faturamento*1.25],
            maxBarThickness: 80,
            backgroundColor: '#ffc714'
          }, {
            label: 'Com Preju√≠zo',
            data: [faturamento],
            backgroundColor: '#1e1e1e',
            maxBarThickness: 80,
            borderWidth: 1
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: true
            },
            x: {
              categoryPercentage: 0.2,
              barPercentage: 0.2,
              display: false
            }
          }
        }
      });
    } else {
      if (taxaSinistralidade <= sinistralidadeMedia) {
        span_mensagem_dados.innerHTML = `Apesar da confiabilidade dos dados da sua empresa serem altos, ainda h√° margem para melhora! <br><br>
        üöÄ Segundo pesquisa do IBGE, a frota nacional cresce, em m√©dia, 4,3 milh√µes por ano (Fonte: IBGE).<br>
        üìâ Por√©m, a convers√£o de novos clientes √© baixa, visto que 70% dos ve√≠culos do pa√≠s n√£o s√£o segurados (Fonte: CNseg).<br>
        <br>
        Com a nossa solu√ß√£o, a sua empresa ganha mais uma ferramenta para gerar <i>insights</i> valiosos e melhorar a efici√™ncia do<br> mapeamento de perfil e an√°lise de riscos, aprimorando a cria√ß√£o das ap√≥lices e otimizando os seus lucros!<br> Se estiver interessado, <a href="index.html#contato"><b>clique aqui</b></a>.`;
      } else {
        span_mensagem_dados.innerHTML = `Apesar de considerarem a confiabilidade dos seus dados alta, ainda h√° margem para melhora!<br><br>
        üí• A <b>taxa de sinistralidade</b> da sua empresa est√° em <b>${taxaSinistralidade}%</b>.<br>
        üöó A sinistralidade m√©dia das seguradoras brasileiras de autom√≥veis est√° em <b>${sinistralidadeMedia}%</b>. (Fonte: IRB)<br>
        üôÅ Portanto, os seus gastos com sinistros extrapolam a m√©dia brasileira...<br><br>
        <b>Compara√ß√£o Entre Sinistralidades</b><br>
        <canvas id="chart-sinistralidade"></canvas>
        <br>
        Com a nossa solu√ß√£o, a sua empresa ganha mais uma ferramenta para gerar <i>insights</i> valiosos<br> e melhorar a efici√™ncia do mapeamento de perfil e an√°lise de riscos, aprimorando a cria√ß√£o<br> das ap√≥lices e otimizando os seus lucros!<br> Se estiver interessado, <a href="index.html#contato"><b>clique aqui</b></a>.`;

        const chart_sinistralidade = document.getElementById('chart-sinistralidade');

        new Chart(chart_sinistralidade, {
          type: 'bar',
          data: {
          labels: ['Sinistralidade'],
          datasets: [{
            label: 'Sua empresa',
            data: [taxaSinistralidade],
            maxBarThickness: 80,
            backgroundColor: '#ffc714'
          }, {
            label: 'M√©dia',
            data: [sinistralidadeMedia],
            backgroundColor: '#1e1e1e',
            maxBarThickness: 80,
            borderWidth: 1
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: true
            },
            x: {
              categoryPercentage: 0.2,
              barPercentage: 0.2,
              display: false
            }
          }
        }
        });
      }
    }
    
    calculadora_part1.style.display = "none";
    calculadora_part2.style.display = "block";

  }

  function voltar() {
    calculadora_part1.style.display = "block";
    calculadora_part2.style.display = "none";
  }
</script>
