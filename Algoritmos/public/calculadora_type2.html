<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vagas IQ | Home</title>
    <link rel="icon" href="assets/VagasIQ.svg" />

    <link rel="stylesheet" href="styles/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Unbounded:wght@200..900&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&family=Unbounded:wght@200..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="header">
      <div class="div_container-navbar">
        <div class="div_logo">
          <h1><a href="index.html">VagasIQ</a></h1>
        </div>
        <div class="navbar">
          <a href="index.html#sobreNos">SOBRE NÃ“S</a>
          <a href="index.html#solucao">SOLUÃ‡Ã•ES</a>
          <a href="index.html#contato">CONTATO</a>
          <a href="calculadora.html">SIMULADOR</a>
          <a href="login.html" style="color: #ffc714"><u>LOGIN</u></a>
        </div>
      </div>
    </div>

    <div class="div_container-calculadora">
      <div class="p1-container" style="display: block" id="calculadora_part1">
        <div class="titulo">
          <h1>Simule aqui seus resultados!</h1>
          <h3>
            Utilize a calculadora para entender como a nossa soluÃ§Ã£o <br />
            pode ajudar a sua empresa
          </h3>
        </div>

        <div class="p1-calculadora-interface">
          <div class="p1-calculadora-box">
            <div class="p1-calculadora-dados">

              <p>Informe o faturamento anual</p>
              <input type="number" id="input_anual" />

              <p>Informe o gasto com perdas anual</p>
              <input type="number" id="input_perdas" />

              <p>
                Quando vocÃª precisa avaliar os riscos, os dados <br> sÃ£o confiÃ¡veis?
              </p>
              <select id="select_dados">
                <option value="#" id="#">Selecione uma opÃ§Ã£o</option>
                <option value="nunca">Nunca</option>
                <option value="raramente">Raramente</option>
                <option value="as vezes">Ã€s vezes</option>
                <option value="quase sempre">Quase sempre</option>
                <option value="sempre">Sempre</option>
              </select>

              <button onclick="analisar()">Calcular</button>
            </div>
          </div>
        </div>
      </div>

      <div class="p2-container" style="display: none" id="calculadora_part2">
        <div class="titulo">
          <h1>Aqui esta seus resultados!</h1>
          <h3>
            Com base em dados de uma pesquisa feita pela
            <b>MIT Sloan study.</b> <br />
            Seguradoras podem perder de 15 a 25% da receita total, pela <br />
            falta de dados ou por dados de baixa qualidade
          </h3>
        </div>

        <div class="p2-calculadora-interface">
          <div class="p2-calculadora-box">
            <div class="p2-calculadora-dados">
              <p id="p_dados"></p>

              <button onclick="voltar()">Voltar</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="div_container-footer">
      <div class="div_conteudo-footer">
        <div class="div_titulo-footer">
          <h1>VagasIQ</h1>
        </div>

        <div class="traco"></div>

        <span class="div_descricao-footer">
          Explore todo o potencial do seu negÃ³cio com o poder da tomada de
          decisÃ£o estratÃ©gica <br />
          baseada em informaÃ§Ãµes relevantes!
        </span>
      </div>
    </div>
  </body>
</html>

<script>
  var mensagem = "";

  function exibir() {
    p_dados.innerHTML = mensagem;
  }

  function analisar() {
    // declaraÃ§Ã£o de variaveis

    var anual = Number(input_anual.value);
    var perda = Number(input_perdas.value);
    var selectDados = select_dados.value;
    var perdaMedia = anual * 0.598
    var mensal = anual / 12
    var qualidadeDados = 0;
    var perdaAtual = 0
    var AcrescimoAnual = 0    
    var AcrescimoMensal = 0
    var lucroNovo = 0
    var prejuLucro = 0
    var prejuNovoLucro =  0
    var lucroNovoPorcentagem = 0
    
    var melhora = ""    
    var taxaPerda = ""
    // Verifica se todos os dados, esÃ£o preenchidos
    
    if (anual != 0 && perda != 0 && selectDados != "#") {
      var perdaPorcentagem = 0;
      lucroAnual = anual - perda
      lucroMensal = mensal - perda
      
      // Muda a vizualizaÃ§Ã£o para tela de dados
      
      calculadora_part1.style.display = "none";
      calculadora_part2.style.display = "block";
      
      // Faz a verifiÃ§Ã£o de qualidade de dados

      if (selectDados == "nunca") {
        AcrescimoAnual = lucroAnual * 1.25
        melhora = "25%"
        qualidadeDados = 0;
    } else if (selectDados == "raramente") {
        AcrescimoAnual = lucroAnual * 1.20
        melhora = "20%"
        qualidadeDados = 33;
    } else if (selectDados == "as vezes") {
        AcrescimoAnual = lucroAnual * 1.15
        melhora = "15%"
        qualidadeDados = 66;
    } else {
        if (perda < perdaMedia) {
          taxaPerda = "Bom"
        } else if (perda == perdaMedia) {
          taxaPerda = "no limite"
        } else {
          taxaPerda = "Ruim"
        }
        qualidadeDados = 100;
      }
      
      AcrescimoMensal = AcrescimoAnual / 12

      if (selectDados != "sempre" && selectDados != "quase sempre") {
        perdaPorcentagem = (perda * 100) / anual;
        perdaDiminui = AcrescimoAnual - perda
        lucroNovo =  lucroAnual + AcrescimoAnual
        lucroNovoPorcentagem = (perda * 100) / lucroNovo
        prejuLucro = perda / lucro * 100
        prejuNovoLucro = perda / lucroNovo * 100

        lucroNovo = Math.floor(lucroNovo * (100 + prejuLucro - prejuNovoLucro) / 100)

        mensagem = `
                        Nossos sensores podem te auxiliar a capturar alguns dados, que poderiam aumentar o seu: <br> <br> 
                        <b>Lucro Mensal para R$: ${AcrescimoMensal.toFixed(2)}</b> <br>
                        <b>Lucro Anual para R$: ${AcrescimoAnual.toFixed(2)}</b> <br> <br>
                        <b>Hoje em dia vocÃª perde ${perdaPorcentagem.toFixed(2)}% com perdas </b> <br> <br>
                        Hoje seus dados sÃ£o <b>${selectDados}</b> confiaveis <br> <br>
                        ðŸ’¸ Perda Atual: <b>R$ ${perda}</b> por ano <br>             
                        ðŸš€ Com as VagasIQ a sua perda diminui em: <b>R$ ${perdaDiminui} </b> <br>
                        ðŸ’° No final, ao ano vocÃª economiza <b>${lucroNovoPorcentagem.toFixed(2)}%</b> <br> <br>
                        Estes valores representam uma melhoria aproximada de <b>${melhora} na sua receita</b> baseado <br> nos estudos feitos pelo <b>MIT Sloan study</b> sobre a falta de dados. <br>
                        Implemente agora nossa <b>soluÃ§Ã£o</b> e venha ter acesso agora a nossa rede de dados!!! <br> <br>
                    `;
      } else if (anual != 0 && perda != 0 && (selectDados == "sempre" || selectDados == "quase sempre") && taxaPerda != "Bom") {
            perdaPorcentagem = (perda * 100) / anual;
            mensagem = `
                        ðŸŽ‰ Parabens, vocÃª tem dados <b>${selectDados}</b> confiaveis, e isso e algo notavel <br> 
                        Mas mesmo assim, com nossos sensores podemos te auxiliar a capturar <br> alguns dados, que iriam te auxiliar.
                        Ao pegar os dados informados<br>, chegamos a conclusÃ£o que o seu nivel de sinistralidade esta <b>${taxaPerda.toFixed(2)}</b><br> baseado no normal. Baseado nos estudos feitos pela <b>Suhai Seguradora</b><br> o objetivo e sempre deixar abaixo dos 70% e sua porcentagem <br> esta em <b> ${perdaPorcentagem}%. </b>. <br>
                        Implemente agora nossa <b>soluÃ§Ã£o</b> e venha ter acesso <br> agora a nossa rede de dados!!! <br> <br>
                    `;
      } else {
            perdaPorcentagem = (perda * 100) / anual;
            mensagem = `
                        ðŸŽ‰ Parabens, vocÃª tem dados <b>${selectDados}</b> confiaveis, e isso e algo notavel <br> 
                        Mas mesmo assim, com nossos sensores podemos te auxiliar a capturar alguns dados,<br> que iriam te auxiliar. Ao pegar os dados informados, chegamos a conclusÃ£o que<br> o seu nivel de sinistralidade esta <b>${taxaPerda.toFixed(2)}</b>, baseado no normal. Baseado nos estudos <br> feitos pela <b>Suhai Seguradora</b> o objetivo  e sempre deixar abaixo dos 70%<br> e sua porcentagem esta em <b> ${perdaPorcentagem}%. </b>. <br> <br>
                        EntÃ£o parabens, vocÃª esta acima da media. <br>
                        Se quiser melhorar ainda mais. Implemente agora nossa <b>soluÃ§Ã£o</b><br> e venha ter acesso agora a nossa rede de dados!!! <br> <br>
                    `; 
      
      }
    
    } else {

        alert(`
                Erro: Credenciais faltando
                    Verifique se colocou o valor anual ou Acrescimomensal 
                    Verifique se colocou o valor do perda 
                    Verifique se avaliou seus riscos
            `);
      }

      // Chama a funÃ§Ã£o de exibiÃ§Ã£o
      exibir();

}

  function voltar() {
    calculadora_part1.style.display = "block";
    calculadora_part2.style.display = "none";
  }
</script>
